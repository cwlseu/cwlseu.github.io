---
layout: post
title: Digital Image Processing
categories: [blog ]
tags: [数字图像处理，机器视觉]
description: 机器视觉中阈值获取
---

- 声明：本博客欢迎转发，但请保留原作者信息!
- 作者: [曹文龙]
- 博客： <https://cwlseu.github.io/>

## 机器视觉二值化问题
## 意义与作用
存储方便，边缘提取，图像分割  
目标识别后续的处理服务  
本质上就是一个聚类的操作
而阈值的获取是二值化的关键

## 二值化过程

		> 预处理去噪
		> 选取阈值
		> 灰度变换

其中阈值选取是关键。阈值选取过高容易导致一些边缘失真，过低将产生虚假边缘。

## 全局阈值
### 双峰法
目标和背景均位于不同的均值的高斯分布下，选取波谷出作阈值

#### 如何自获取阈值？
1. 找到两个峰值点，求平均值

方法简单，但是仅仅适用于双峰明显的图像
缺点：一般图像中往往存在着多个峰值，而且明显的峰值之间的差距往往各不相同

2. 窗口移动法

为了解决存在多个峰值的情形，为了识别明显到的双峰A，B，我们采用一个固定大小的窗口进行匹配，如果在同一个两个峰值同时出现在同一的窗口中，我们将不同时接受这两个峰值同时作为最终A、B的值。而窗口的大小往往基于人为经验，窗口太大，容易导致没有满足的结果，窗口太小容易导致错误。窗口大小取值可以为k = 30.

3. 多窗口自适应法

窗口大小可以采用自适用的方式。
设置初始大小为较大的值，如K = 256， 这是会包含多个峰值，然后采用二分的方式获取小窗口
K_1= K /2 = 128

```
	k == 256
	peaknum = totle peak number in imhist graph 
	while k > 
		(ll, lm )= left part max interval in peak
		(rr, rm) = right part max interval in peak

		if(rr - ll < max(lm, rm))
			return the corresponding threshold of max(lm, rm) 
		else

```
### P参数法
适应于每个目标占整个图像的比例已知的情况下

### 大津法(Otsu法或者最大类间方差法)
图像平均灰度：  `u = w_0*u_0 + w_1* u_1`
类间方差：      `g(t) = w_0(u_0 - u)^2 + w_1(u_1 -u)^2 = w_0w_1(u_0 - u_1)^2`
最佳阈值:       `T = argmax(g(t))`

### 迭代法

## 局部阈值二值化